<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 12. Advanced trace</title><link rel="stylesheet" href="docbook-xsl.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_png/index.html" title="Abidos C++ Programmer Manual" /><link rel="up" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_png/index.html" title="Abidos C++ Programmer Manual" /><link rel="prev" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_png/ch11s03.html" title="11.3. Test files and what they testing" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_png/ch11s03.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> </td></tr></table><hr /></div><div class="chapter" title="Chapter 12. Advanced trace"><div class="titlepage"><div><div><h2 class="title"><a id="_advanced_trace"></a>Chapter 12. Advanced trace</h2></div></div></div><p>Now you have an idea about how Abidos works, we can start the explanation of
the advanced issues. In this chapter we will see examples of C++ code and how
Abidos deal with them using all the previous explained topics (trace trees,
mangling, symbols table listed, …)</p><div class="section" title="12.1. Inner classes"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_inner_classes"></a>12.1. Inner classes</h2></div></div></div><p>When we have a class inside other class Abidos uses a mangling method to put
the classes in the symbol table, lets go to see the whole process with this
example:</p><p title="abidos_cpp/processor$ vi test/book_inner_class_01.cpp"><b>abidos_cpp/processor$ vi test/book_inner_class_01.cpp. </b>
</p><pre class="screen"><span class="strong"><strong>class</strong></span> A {
  <span class="strong"><strong>class</strong></span> B {
    <span class="strong"><strong>void</strong></span> f_b();
  };
};</pre><p title="abidos_cpp/processor$ vi test/book_inner_class_01.cpp">
</p><p>The interesting point in this example is how Abidos do the mangling of <span class="strong"><strong>B</strong></span>, we
can see it in:</p><p title="abidos_cpp/processor$ vi test_out/out_book_inner_class_01.cpp.txt"><b>abidos_cpp/processor$ vi test_out/out_book_inner_class_01.cpp.txt. </b>
</p><pre class="screen">    ...
    first[A::B]/.../abidos_cpp/processor/test/book_inner_class_01.cpp:2 \
      id[258]-&gt;[IDENTIFIER] \
      text[A::B] type[265]-&gt;[CLASS_NAME] \
      class_key[300]-&gt;[CLASS]
    ...</pre><p title="abidos_cpp/processor$ vi test_out/out_book_inner_class_01.cpp.txt">
</p><p>We are going to trace the code with gdb using this X file:</p><p title="X file for gdb"><b>X file for gdb. </b>
</p><pre class="screen"># gdb src/abidos_cpp -x X
dir .
set print address off
b c_parser_descent::colon_colon_chain_process
run --includes test_includes/ \
    --out_dir test_out/ \
    --test_all_tokens_consumed_flag \
    --test_original \
    --ts_show \
    --verbose test/book_inner_class_01.cpp \
      &gt; test_out/out_book_inner_class_01.cpp.txt</pre><p title="X file for gdb">
</p><p>We run gdb like this:</p><p title="gdb execution"><b>gdb execution. </b>
</p><pre class="screen">abidos_cpp/processor$ gdb src/abidos_cpp -x X</pre><p title="gdb execution">
</p><p></p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_png/ch11s03.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_png/index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
