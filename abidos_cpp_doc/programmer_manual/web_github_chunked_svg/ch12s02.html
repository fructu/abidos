<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>12.2. Templates</title><link rel="stylesheet" href="docbook-xsl.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/index.html" title="Abidos C++ Programmer Manual" /><link rel="up" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/ch12.html" title="Chapter 12. Advanced trace" /><link rel="prev" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/ch12.html" title="Chapter 12. Advanced trace" /><link rel="next" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/ch12s03.html" title="12.3. Templates instantiation" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/ch12.html">Prev</a> </td><th width="60%" align="center"><a accesskey="r" href="https://github.com/fructu/abidos">github</a> </th><td width="20%" align="right"> <a accesskey="n" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/ch12s03.html">Next</a></td></tr></table><hr /></div><div class="section" title="12.2. Templates"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_templates"></a>12.2. Templates</h2></div></div></div><p><a id="id2653236" class="indexterm"></a></p><p>When abidos_cpp parses templates there are a set of states each of them are
stored in <span class="strong"><strong>context.template_status</strong></span>.</p><div class="figure"><a id="id2653255"></a><p class="title"><b>Figure 12.5. state machine</b></p><div class="figure-contents"><div class="mediaobject" align="center">
<!-- extract of file[web_github_chunked_svg/images/chapter_advanced_trace_template_declaration_status.svg] {
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd" [
 <!ATTLIST svg xmlns:xlink CDATA #FIXED "http://www.w3.org/1999/xlink">
]> -->

<!-- Generated by Graphviz version 2.20.2 (Tue Mar &#160;2 21:46:26 UTC 2010)
     For user: (fructu) ub_x1,,, -->
<!-- Title: finite_state_machine Pages: 1 -->
<svg width="360pt" height="176pt"
 viewBox="0.00 0.00 360.00 175.97" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.57508 0.57508) rotate(0) translate(4 302)">
<title>finite_state_machine</title>
<polygon style="fill:white;stroke:white;" points="-4,4 -4,-302 622,-302 622,4 -4,4"/>
<!-- S -->
<g id="node1" class="node"><title>S</title>
<ellipse style="fill:none;stroke:black;" cx="271" cy="-276" rx="18" ry="18"/>
<ellipse style="fill:none;stroke:black;" cx="271" cy="-276" rx="22" ry="22"/>
</g>
<!-- NO_TEMPLATE_STATUS -->
<g id="node3" class="node"><title>NO_TEMPLATE_STATUS</title>
<polyline style="fill:none;stroke:black;" points="350,-216 192,-216 "/>
<path style="fill:none;stroke:black;" d="M192,-216C186,-216 180,-210 180,-204"/>
<polyline style="fill:none;stroke:black;" points="180,-204 180,-192 "/>
<path style="fill:none;stroke:black;" d="M180,-192C180,-186 186,-180 192,-180"/>
<polyline style="fill:none;stroke:black;" points="192,-180 350,-180 "/>
<path style="fill:none;stroke:black;" d="M350,-180C356,-180 362,-186 362,-192"/>
<polyline style="fill:none;stroke:black;" points="362,-192 362,-204 "/>
<path style="fill:none;stroke:black;" d="M362,-204C362,-210 356,-216 350,-216"/>
<text text-anchor="middle" x="271" y="-193.9" style="font-family:Times New Roman;font-size:14.00;">NO_TEMPLATE_STATUS</text>
</g>
<!-- S&#45;&gt;NO_TEMPLATE_STATUS -->
<g id="edge2" class="edge"><title>S&#45;&gt;NO_TEMPLATE_STATUS</title>
<path style="fill:none;stroke:black;" d="M271,-254C271,-245 271,-235 271,-226"/>
<polygon style="fill:black;stroke:black;" points="274.5,-226 271,-216 267.5,-226 274.5,-226"/>
</g>
<!-- TEMPLATE_PARAMETER_LIST -->
<g id="node5" class="node"><title>TEMPLATE_PARAMETER_LIST</title>
<polyline style="fill:none;stroke:black;" points="210,-126 12,-126 "/>
<path style="fill:none;stroke:black;" d="M12,-126C6,-126 7.81597e-14,-120 7.10543e-14,-114"/>
<polyline style="fill:none;stroke:black;" points="7.10543e-14,-114 5.68434e-14,-102 "/>
<path style="fill:none;stroke:black;" d="M5.68434e-14,-102C4.9738e-14,-96 6,-90 12,-90"/>
<polyline style="fill:none;stroke:black;" points="12,-90 210,-90 "/>
<path style="fill:none;stroke:black;" d="M210,-90C216,-90 222,-96 222,-102"/>
<polyline style="fill:none;stroke:black;" points="222,-102 222,-114 "/>
<path style="fill:none;stroke:black;" d="M222,-114C222,-120 216,-126 210,-126"/>
<text text-anchor="middle" x="111" y="-103.9" style="font-family:Times New Roman;font-size:14.00;">TEMPLATE_PARAMETER_LIST</text>
</g>
<!-- NO_TEMPLATE_STATUS&#45;&gt;TEMPLATE_PARAMETER_LIST -->
<g id="edge4" class="edge"><title>NO_TEMPLATE_STATUS&#45;&gt;TEMPLATE_PARAMETER_LIST</title>
<path style="fill:none;stroke:black;" d="M180,-191C140,-186 100,-177 88,-162 82,-154 84,-144 89,-135"/>
<polygon style="fill:black;stroke:black;" points="92.2031,-136.441 94,-126 86.084,-133.042 92.2031,-136.441"/>
<text text-anchor="middle" x="268" y="-148.9" style="font-family:Times New Roman;font-size:14.00;">template_declaration()&#45;&gt;template_parameter_list()</text>
</g>
<!-- TEMPLATE_DECLARATION -->
<g id="node7" class="node"><title>TEMPLATE_DECLARATION</title>
<polyline style="fill:none;stroke:black;" points="393,-36 219,-36 "/>
<path style="fill:none;stroke:black;" d="M219,-36C213,-36 207,-30 207,-24"/>
<polyline style="fill:none;stroke:black;" points="207,-24 207,-12 "/>
<path style="fill:none;stroke:black;" d="M207,-12C207,-6 213,-1.03352e-14 219,-1.00122e-14"/>
<polyline style="fill:none;stroke:black;" points="219,-1.00122e-14 393,-6.45948e-16 "/>
<path style="fill:none;stroke:black;" d="M393,-6.45948e-16C399,-3.22974e-16 405,-6 405,-12"/>
<polyline style="fill:none;stroke:black;" points="405,-12 405,-24 "/>
<path style="fill:none;stroke:black;" d="M405,-24C405,-30 399,-36 393,-36"/>
<text text-anchor="middle" x="306" y="-13.9" style="font-family:Times New Roman;font-size:14.00;">TEMPLATE_DECLARATION</text>
</g>
<!-- TEMPLATE_PARAMETER_LIST&#45;&gt;TEMPLATE_DECLARATION -->
<g id="edge6" class="edge"><title>TEMPLATE_PARAMETER_LIST&#45;&gt;TEMPLATE_DECLARATION</title>
<path style="fill:none;stroke:black;" d="M130,-90C143,-78 162,-63 181,-54 192,-48 204,-44 216,-39"/>
<polygon style="fill:black;stroke:black;" points="216.62,-42.4827 225,-36 214.406,-35.842 216.62,-42.4827"/>
<text text-anchor="middle" x="311" y="-58.9" style="font-family:Times New Roman;font-size:14.00;">template_declaration()&#45;&gt;declaration()</text>
</g>
<!-- TEMPLATE_DECLARATION&#45;&gt;NO_TEMPLATE_STATUS -->
<g id="edge8" class="edge"><title>TEMPLATE_DECLARATION&#45;&gt;NO_TEMPLATE_STATUS</title>
<path style="fill:none;stroke:black;" d="M405,-36C422,-41 435,-47 441,-54 470,-92 471,-124 441,-162 431,-174 403,-182 372,-187"/>
<polygon style="fill:black;stroke:black;" points="371.119,-183.607 362,-189 372.492,-190.471 371.119,-183.607"/>
<text text-anchor="middle" x="540" y="-103.9" style="font-family:Times New Roman;font-size:14.00;">template_declaration()</text>
</g>
</g>
</svg>

<!-- } extract of file[web_github_chunked_svg/images/chapter_advanced_trace_template_declaration_status.svg] end-->
</div></div></div><br class="figure-break" /><p>In the state diagram we can see the states and how the calls inside the
rule <span class="strong"><strong>template_declaration</strong></span> change this state, lets see this with this example:</p><p><a id="id2653295" class="indexterm"></a></p><pre class="screen">#                     <a id="CO36-1"></a><img src="images/icons/callouts/1.png" alt="1" border="0" />
<span class="strong"><strong>template</strong></span> &lt; <span class="strong"><strong>class</strong></span> T1&gt;  <a id="CO36-2"></a><img src="images/icons/callouts/2.png" alt="2" border="0" />
<span class="strong"><strong>void</strong></span> f(T1 t1)         <a id="CO36-3"></a><img src="images/icons/callouts/3.png" alt="3" border="0" />
{
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO36-1"><img src="images/icons/callouts/1.png" alt="1" border="0" /></a> </p></td><td valign="top" align="left"><p>
here abidos_cpp has the state <span class="strong"><strong>NO_TEMPLATE_STATUS</strong></span>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO36-2"><img src="images/icons/callouts/2.png" alt="2" border="0" /></a> </p></td><td valign="top" align="left"><p>
while abidos_cpp are parsing inside <span class="strong"><strong>&lt;</strong></span> and <span class="strong"><strong>&gt;</strong></span> has <span class="strong"><strong>TEMPLATE_PARAMETER_LIST</strong></span>
    state.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO36-3"><img src="images/icons/callouts/3.png" alt="3" border="0" /></a> </p></td><td valign="top" align="left"><p>
while abidos_cpp are parsing the body of the template has <span class="strong"><strong>TEMPLATE_DECLARATION</strong></span>
    state.
</p></td></tr></table></div><p>Lets see how abidos parses the previous example executing it with gdb</p><p title="X file for gdb"><b>X file for gdb. </b>
</p><pre class="screen"># gdb src/abidos_cpp -x X
dir .
set print address off
b c_parser_descent::colon_colon_chain_process
run --includes test_includes/ \
    --out_dir test_out/ \
    --test_all_tokens_consumed_flag \
    --test_original \
    --ts_show \
    --verbose test/book_template_01.cpp \
      &gt; test_out/out_book_template_01.cpp.txt</pre><p title="X file for gdb">
</p><p>Run gdb like this:</p><p title="gdb execution"><b>gdb execution. </b>
</p><pre class="screen">abidos_cpp/processor$ gdb src/abidos_cpp -x X</pre><p title="gdb execution">
</p><p>This is the subtree to parse the first part:</p><p><a id="id2653439" class="indexterm"></a></p><pre class="screen"><span class="strong"><strong>template</strong></span> &lt; <span class="strong"><strong>class</strong></span> T1&gt;</pre><div class="figure"><a id="id2653462"></a><p class="title"><b>Figure 12.6. book_template template_parameter_list subtree</b></p><div class="figure-contents"><div class="mediaobject" align="center">
<!-- extract of file[web_github_chunked_svg/images/chapter_advanced_trace_book_template_01.svg] {
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd" [
 <!ATTLIST svg xmlns:xlink CDATA #FIXED "http://www.w3.org/1999/xlink">
]> -->

<!-- Generated by Graphviz version 2.20.2 (Tue Mar &#160;2 21:46:26 UTC 2010)
     For user: (fructu) ub_x1,,, -->
<!-- Title: G Pages: 1 -->
<svg width="167pt" height="432pt"
 viewBox="0.00 0.00 167.49 432.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.57754 0.57754) rotate(0) translate(4 744)">
<title>G</title>
<polygon style="fill:white;stroke:white;" points="-4,4 -4,-744 286,-744 286,4 -4,4"/>
<!-- ROOT -->
<g id="node1" class="node"><title>ROOT</title>
<ellipse style="fill:none;stroke:black;" cx="141" cy="-722" rx="39.1069" ry="18"/>
<text text-anchor="middle" x="141" y="-717.9" style="font-family:Times New Roman;font-size:14.00;">ROOT</text>
</g>
<!-- _2_declaration_seq_opt -->
<g id="node2" class="node"><title>_2_declaration_seq_opt</title>
<ellipse style="fill:none;stroke:black;" cx="141" cy="-650" rx="122.994" ry="18"/>
<text text-anchor="middle" x="141" y="-645.9" style="font-family:Times New Roman;font-size:14.00;">_2_declaration_seq_opt</text>
</g>
<!-- ROOT&#45;&gt;_2_declaration_seq_opt -->
<g id="edge2" class="edge"><title>ROOT&#45;&gt;_2_declaration_seq_opt</title>
<path style="fill:none;stroke:black;" d="M141,-704C141,-696 141,-687 141,-678"/>
<polygon style="fill:black;stroke:black;" points="144.5,-678 141,-668 137.5,-678 144.5,-678"/>
</g>
<!-- _3_declaration_seq -->
<g id="node3" class="node"><title>_3_declaration_seq</title>
<ellipse style="fill:none;stroke:black;" cx="141" cy="-578" rx="102.148" ry="18"/>
<text text-anchor="middle" x="141" y="-573.9" style="font-family:Times New Roman;font-size:14.00;">_3_declaration_seq</text>
</g>
<!-- _2_declaration_seq_opt&#45;&gt;_3_declaration_seq -->
<g id="edge4" class="edge"><title>_2_declaration_seq_opt&#45;&gt;_3_declaration_seq</title>
<path style="fill:none;stroke:black;" d="M141,-632C141,-624 141,-615 141,-606"/>
<polygon style="fill:black;stroke:black;" points="144.5,-606 141,-596 137.5,-606 144.5,-606"/>
</g>
<!-- _4_declaration -->
<g id="node4" class="node"><title>_4_declaration</title>
<ellipse style="fill:none;stroke:black;" cx="141" cy="-506" rx="80.8024" ry="18"/>
<text text-anchor="middle" x="141" y="-501.9" style="font-family:Times New Roman;font-size:14.00;">_4_declaration</text>
</g>
<!-- _3_declaration_seq&#45;&gt;_4_declaration -->
<g id="edge6" class="edge"><title>_3_declaration_seq&#45;&gt;_4_declaration</title>
<path style="fill:none;stroke:black;" d="M141,-560C141,-552 141,-543 141,-534"/>
<polygon style="fill:black;stroke:black;" points="144.5,-534 141,-524 137.5,-534 144.5,-534"/>
</g>
<!-- _13_template_declaration -->
<g id="node5" class="node"><title>_13_template_declaration</title>
<polygon style="fill:none;stroke:green;" points="0,-402 0,-452 282,-452 282,-402 0,-402"/>
<text text-anchor="middle" x="141" y="-434.9" style="font-family:Times New Roman;font-size:14.00;">_13_template_declaration</text>
<polyline style="fill:none;stroke:green;" points="0,-427 282,-427 "/>
<text text-anchor="start" x="8" y="-409.9" style="font-family:Times New Roman;font-size:14.00;">template is TEMPLATE &lt; is LT &gt; is GT </text>
</g>
<!-- _4_declaration&#45;&gt;_13_template_declaration -->
<g id="edge8" class="edge"><title>_4_declaration&#45;&gt;_13_template_declaration</title>
<path style="fill:none;stroke:black;" d="M141,-488C141,-480 141,-471 141,-462"/>
<polygon style="fill:black;stroke:black;" points="144.5,-462 141,-452 137.5,-462 144.5,-462"/>
</g>
<!-- _14_template_parameter_list -->
<g id="node6" class="node"><title>_14_template_parameter_list</title>
<polygon style="fill:none;stroke:green;" points="32,-316 32,-366 250,-366 250,-316 32,-316"/>
<text text-anchor="middle" x="141" y="-348.9" style="font-family:Times New Roman;font-size:14.00;">_14_template_parameter_list</text>
<polyline style="fill:none;stroke:green;" points="32,-341 250,-341 "/>
<text text-anchor="start" x="40" y="-323.9" style="font-family:Times New Roman;font-size:14.00;">&gt; is GT </text>
</g>
<!-- _13_template_declaration&#45;&gt;_14_template_parameter_list -->
<g id="edge10" class="edge"><title>_13_template_declaration&#45;&gt;_14_template_parameter_list</title>
<path style="fill:none;stroke:black;" d="M141,-402C141,-394 141,-385 141,-376"/>
<polygon style="fill:black;stroke:black;" points="144.5,-376 141,-366 137.5,-376 144.5,-376"/>
</g>
<!-- _15_template_parameter -->
<g id="node7" class="node"><title>_15_template_parameter</title>
<ellipse style="fill:none;stroke:black;" cx="141" cy="-262" rx="132.028" ry="18"/>
<text text-anchor="middle" x="141" y="-257.9" style="font-family:Times New Roman;font-size:14.00;">_15_template_parameter</text>
</g>
<!-- _14_template_parameter_list&#45;&gt;_15_template_parameter -->
<g id="edge12" class="edge"><title>_14_template_parameter_list&#45;&gt;_15_template_parameter</title>
<path style="fill:none;stroke:black;" d="M141,-316C141,-308 141,-299 141,-290"/>
<polygon style="fill:black;stroke:black;" points="144.5,-290 141,-280 137.5,-290 144.5,-290"/>
</g>
<!-- _16_type_parameter -->
<g id="node8" class="node"><title>_16_type_parameter</title>
<polygon style="fill:none;stroke:green;" points="62,-158 62,-208 221,-208 221,-158 62,-158"/>
<text text-anchor="middle" x="141" y="-190.9" style="font-family:Times New Roman;font-size:14.00;">_16_type_parameter</text>
<polyline style="fill:none;stroke:green;" points="62,-183 221,-183 "/>
<text text-anchor="start" x="69.5" y="-165.9" style="font-family:Times New Roman;font-size:14.00;">class is CLASS</text>
</g>
<!-- _15_template_parameter&#45;&gt;_16_type_parameter -->
<g id="edge14" class="edge"><title>_15_template_parameter&#45;&gt;_16_type_parameter</title>
<path style="fill:none;stroke:black;" d="M141,-244C141,-236 141,-227 141,-218"/>
<polygon style="fill:black;stroke:black;" points="144.5,-218 141,-208 137.5,-218 144.5,-218"/>
</g>
<!-- _17_identifier_opt -->
<g id="node9" class="node"><title>_17_identifier_opt</title>
<ellipse style="fill:none;stroke:black;" cx="141" cy="-104" rx="97.9784" ry="18"/>
<text text-anchor="middle" x="141" y="-99.9" style="font-family:Times New Roman;font-size:14.00;">_17_identifier_opt</text>
</g>
<!-- _16_type_parameter&#45;&gt;_17_identifier_opt -->
<g id="edge16" class="edge"><title>_16_type_parameter&#45;&gt;_17_identifier_opt</title>
<path style="fill:none;stroke:black;" d="M141,-158C141,-150 141,-141 141,-132"/>
<polygon style="fill:black;stroke:black;" points="144.5,-132 141,-122 137.5,-132 144.5,-132"/>
</g>
<!-- _18_identifier -->
<g id="node10" class="node"><title>_18_identifier</title>
<polygon style="fill:none;stroke:green;" points="74,-0 74,-50 208,-50 208,-0 74,-0"/>
<text text-anchor="middle" x="141" y="-32.9" style="font-family:Times New Roman;font-size:14.00;">_18_identifier</text>
<polyline style="fill:none;stroke:green;" points="74,-25 208,-25 "/>
<text text-anchor="start" x="82" y="-7.9" style="font-family:Times New Roman;font-size:14.00;">T1 is IDENTIFIER</text>
</g>
<!-- _17_identifier_opt&#45;&gt;_18_identifier -->
<g id="edge18" class="edge"><title>_17_identifier_opt&#45;&gt;_18_identifier</title>
<path style="fill:none;stroke:black;" d="M141,-86C141,-78 141,-69 141,-60"/>
<polygon style="fill:black;stroke:black;" points="144.5,-60 141,-50 137.5,-60 144.5,-60"/>
</g>
</g>
</svg>

<!-- } extract of file[web_github_chunked_svg/images/chapter_advanced_trace_book_template_01.svg] end-->
</div></div></div><br class="figure-break" /><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
template_declaration(): here the token <span class="strong"><strong>template</strong></span> is matched and
the <span class="strong"><strong>TEMPLATE_PARAMETER_LIST</strong></span> state is set in <span class="strong"><strong>context.template_status</strong></span> before
the next rule is called.
</li><li class="listitem">
template_parameter_list(): here parameters are matched until <span class="strong"><strong><span class="emphasis"><em>&gt;</em></span></strong></span> is reached
this token is restores because is matched in <span class="strong"><strong>template_declaration()</strong></span> too.
</li><li class="listitem">
template_parameter()
</li><li class="listitem">
type_parameter(): <span class="strong"><strong>context.template_parameter.vector_decl_specifier</strong></span> is set
with the actual meta-type.
</li></ul></div><pre class="screen"><span class="strong"><strong>int</strong></span> c_parser_descent::type_parameter(c_trace_node trace_node)
{
    trace_graph.add(trace_node, "type_parameter");
    c_context_tokens context_tokens(context);

    <span class="emphasis"><em>//## to do rest</em></span>
    token_next(trace_node.get_tab());
    <span class="strong"><strong>const</strong></span> <span class="strong"><strong>int</strong></span> vector_id[]={CLASS, TYPENAME, INT, -1}; <a id="CO37-1"></a><img src="images/icons/callouts/1.png" alt="1" border="0" />
    <span class="strong"><strong>if</strong></span> (token_is_one(  vector_id,trace_node) != 0) {
        c_decl_specifier decl(c_token_get());
        context.template_parameter.vector_decl_specifier.push_back(decl);

        context.declaring_template_type = 1;

        identifier_opt(trace_node);
        context.declaring_template_type = 0;
        <span class="strong"><strong>return</strong></span> 1;
    }

    context = context_tokens.restore();
    <span class="strong"><strong>return</strong></span> 0;
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO37-1"><img src="images/icons/callouts/1.png" alt="1" border="0" /></a> </p></td><td valign="top" align="left"><p>
In order to declare the parameters CLASS and TYPENAME has the same meaning.
</p></td></tr></table></div><p><a id="id2653638" class="indexterm"></a></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
identifier_opt()
</li><li class="listitem">
identifier(): calls <span class="strong"><strong>semantic.identifier()</strong></span>
</li><li class="listitem">
semantic.identifier():
</li></ul></div><pre class="screen"><span class="strong"><strong>void</strong></span> c_semantic::identifier(c_context &amp; context, c_token token)
{
    ...
    <span class="strong"><strong>if</strong></span> ( TEMPLATE_PARAMETER_LIST == context.template_status ) {
        <span class="strong"><strong>if</strong></span> ( 1 == context.declaring_template_type ) {
            context.template_parameter.token = token; <a id="CO38-1"></a><img src="images/icons/callouts/1.png" alt="1" border="0" />

            context.vector_template_parameter.push_back(context.template_parameter); <a id="CO38-2"></a><img src="images/icons/callouts/2.png" alt="2" border="0" />
            context.map_template_parameter[token.text] = context.template_parameter;
            <span class="emphasis"><em>//parameter has been processed</em></span>
            context.template_parameter.clear();

            <span class="strong"><strong>return</strong></span>;
        }
    }
    ...
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO38-1"><img src="images/icons/callouts/1.png" alt="1" border="0" /></a> </p></td><td valign="top" align="left"><p>
here is processed <span class="strong"><strong>T1</strong></span>.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO38-2"><img src="images/icons/callouts/2.png" alt="2" border="0" /></a> </p></td><td valign="top" align="left"><p>
decls are stored in this case <span class="strong"><strong>class</strong></span> is the type parameter.
</p></td></tr></table></div><p><a id="id2653763" class="indexterm"></a></p><p>Now abidos returns to <span class="strong"><strong>template_declaration()</strong></span> and set the status:</p><pre class="screen">  ...
  context.template_status = TEMPLATE_DECLARATION;
  ...</pre><p>and <span class="strong"><strong>declaration()</strong></span> is run:</p><p>_29_block_declaration is restored with backtracking we continue
in _90_function_definition:</p><div class="figure"><a id="id2653802"></a><p class="title"><b>Figure 12.7. book_template function_definition subtree</b></p><div class="figure-contents"><div class="mediaobject" align="center">
<!-- extract of file[web_github_chunked_svg/images/chapter_advanced_trace_book_template_02.svg] {
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd" [
 <!ATTLIST svg xmlns:xlink CDATA #FIXED "http://www.w3.org/1999/xlink">
]> -->

<!-- Generated by Graphviz version 2.20.2 (Tue Mar &#160;2 21:46:26 UTC 2010)
     For user: (fructu) ub_x1,,, -->
<!-- Title: G Pages: 1 -->
<svg width="905pt" height="1170pt"
 viewBox="0.00 0.00 905.00 1170.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1166)">
<title>G</title>
<polygon style="fill:white;stroke:white;" points="-4,4 -4,-1166 901,-1166 901,4 -4,4"/>
<!-- _CONTINUE_1 -->
<g id="node1" class="node"><title>_CONTINUE_1</title>
<ellipse style="fill:none;stroke:black;" cx="531" cy="-1144" rx="27" ry="18"/>
<text text-anchor="middle" x="531" y="-1139.9" style="font-family:Times New Roman;font-size:14.00;">...</text>
</g>
<!-- _90_function_definition -->
<g id="node3" class="node"><title>_90_function_definition</title>
<ellipse style="fill:none;stroke:black;" cx="531" cy="-1072" rx="122.994" ry="18"/>
<text text-anchor="middle" x="531" y="-1067.9" style="font-family:Times New Roman;font-size:14.00;">_90_function_definition</text>
</g>
<!-- _CONTINUE_1&#45;&gt;_90_function_definition -->
<g id="edge2" class="edge"><title>_CONTINUE_1&#45;&gt;_90_function_definition</title>
<path style="fill:none;stroke:black;" d="M531,-1126C531,-1118 531,-1109 531,-1100"/>
<polygon style="fill:black;stroke:black;" points="534.5,-1100 531,-1090 527.5,-1100 534.5,-1100"/>
</g>
<!-- _CONTINUE_2 -->
<g id="node2" class="node"><title>_CONTINUE_2</title>
<ellipse style="fill:none;stroke:black;" cx="745" cy="-908" rx="27" ry="18"/>
<text text-anchor="middle" x="745" y="-903.9" style="font-family:Times New Roman;font-size:14.00;">...</text>
</g>
<!-- _92_decl_specifier_seq_opt -->
<g id="node4" class="node"><title>_92_decl_specifier_seq_opt</title>
<ellipse style="fill:none;stroke:black;" cx="284" cy="-1000" rx="139.171" ry="18"/>
<text text-anchor="middle" x="284" y="-995.9" style="font-family:Times New Roman;font-size:14.00;">_92_decl_specifier_seq_opt</text>
</g>
<!-- _90_function_definition&#45;&gt;_92_decl_specifier_seq_opt -->
<g id="edge4" class="edge"><title>_90_function_definition&#45;&gt;_92_decl_specifier_seq_opt</title>
<path style="fill:none;stroke:black;" d="M476,-1056C439,-1045 389,-1030 350,-1019"/>
<polygon style="fill:black;stroke:black;" points="350.584,-1015.52 340,-1016 348.573,-1022.23 350.584,-1015.52"/>
</g>
<!-- _108_declarator -->
<g id="node6" class="node"><title>_108_declarator</title>
<ellipse style="fill:none;stroke:black;" cx="531" cy="-1000" rx="88.9449" ry="18"/>
<text text-anchor="middle" x="531" y="-995.9" style="font-family:Times New Roman;font-size:14.00;">_108_declarator</text>
</g>
<!-- _90_function_definition&#45;&gt;_108_declarator -->
<g id="edge8" class="edge"><title>_90_function_definition&#45;&gt;_108_declarator</title>
<path style="fill:none;stroke:black;" d="M531,-1054C531,-1046 531,-1037 531,-1028"/>
<polygon style="fill:black;stroke:black;" points="534.5,-1028 531,-1018 527.5,-1028 534.5,-1028"/>
</g>
<!-- _147_function_body -->
<g id="node28" class="node"><title>_147_function_body</title>
<ellipse style="fill:none;stroke:black;" cx="745" cy="-1000" rx="107.206" ry="18"/>
<text text-anchor="middle" x="745" y="-995.9" style="font-family:Times New Roman;font-size:14.00;">_147_function_body</text>
</g>
<!-- _90_function_definition&#45;&gt;_147_function_body -->
<g id="edge52" class="edge"><title>_90_function_definition&#45;&gt;_147_function_body</title>
<path style="fill:none;stroke:black;" d="M580,-1055C612,-1044 654,-1031 687,-1019"/>
<polygon style="fill:black;stroke:black;" points="688.427,-1022.23 697,-1016 686.416,-1015.52 688.427,-1022.23"/>
</g>
<!-- _93_decl_specifier_seq -->
<g id="node5" class="node"><title>_93_decl_specifier_seq</title>
<ellipse style="fill:none;stroke:black;" cx="281" cy="-908" rx="146.816" ry="18"/>
<text text-anchor="middle" x="281" y="-903.9" style="font-family:Times New Roman;font-size:14.00;">SUBTREE TO MATCH void ...</text>
</g>
<!-- _92_decl_specifier_seq_opt&#45;&gt;_93_decl_specifier_seq -->
<g id="edge6" class="edge"><title>_92_decl_specifier_seq_opt&#45;&gt;_93_decl_specifier_seq</title>
<path style="fill:none;stroke:black;" d="M283,-982C283,-969 282,-951 282,-936"/>
<polygon style="fill:black;stroke:black;" points="285.5,-936 282,-926 278.5,-936 285.5,-936"/>
</g>
<!-- _110_direct_declarator -->
<g id="node7" class="node"><title>_110_direct_declarator</title>
<polygon style="fill:none;stroke:green;" points="446,-870 446,-945 620,-945 620,-870 446,-870"/>
<text text-anchor="middle" x="533" y="-927.9" style="font-family:Times New Roman;font-size:14.00;">_110_direct_declarator</text>
<polyline style="fill:none;stroke:green;" points="446,-920 620,-920 "/>
<text text-anchor="start" x="454" y="-902.9" style="font-family:Times New Roman;font-size:14.00;">( is ( ) is ) </text>
<polyline style="fill:none;stroke:green;" points="446,-895 620,-895 "/>
<text text-anchor="middle" x="533" y="-877.9" style="font-family:Times New Roman;font-size:14.00;">{ &#160;is_not = CONST ; ,</text>
</g>
<!-- _108_declarator&#45;&gt;_110_direct_declarator -->
<g id="edge10" class="edge"><title>_108_declarator&#45;&gt;_110_direct_declarator</title>
<path style="fill:none;stroke:black;" d="M531,-982C531,-974 532,-965 532,-955"/>
<polygon style="fill:black;stroke:black;" points="535.5,-955 532,-945 528.5,-955 535.5,-955"/>
</g>
<!-- _111_declarator_id -->
<g id="node8" class="node"><title>_111_declarator_id</title>
<ellipse style="fill:none;stroke:black;" cx="377" cy="-809" rx="102.148" ry="18"/>
<text text-anchor="middle" x="377" y="-804.9" style="font-family:Times New Roman;font-size:14.00;">_111_declarator_id</text>
</g>
<!-- _110_direct_declarator&#45;&gt;_111_declarator_id -->
<g id="edge12" class="edge"><title>_110_direct_declarator&#45;&gt;_111_declarator_id</title>
<path style="fill:none;stroke:black;" d="M473,-870C453,-857 431,-844 414,-833"/>
<polygon style="fill:black;stroke:black;" points="415.262,-829.635 405,-827 411.379,-835.459 415.262,-829.635"/>
</g>
<!-- _116_parameter_declaration_clause -->
<g id="node12" class="node"><title>_116_parameter_declaration_clause</title>
<polygon style="fill:none;stroke:green;" points="527,-784 527,-834 791,-834 791,-784 527,-784"/>
<text text-anchor="middle" x="659" y="-816.9" style="font-family:Times New Roman;font-size:14.00;">_116_parameter_declaration_clause</text>
<polyline style="fill:none;stroke:green;" points="527,-809 791,-809 "/>
<text text-anchor="start" x="535" y="-791.9" style="font-family:Times New Roman;font-size:14.00;">) is ) </text>
</g>
<!-- _110_direct_declarator&#45;&gt;_116_parameter_declaration_clause -->
<g id="edge20" class="edge"><title>_110_direct_declarator&#45;&gt;_116_parameter_declaration_clause</title>
<path style="fill:none;stroke:black;" d="M582,-870C594,-860 607,-850 619,-840"/>
<polygon style="fill:black;stroke:black;" points="621.1,-842.8 627,-834 616.9,-837.2 621.1,-842.8"/>
</g>
<!-- _113_id_expression -->
<g id="node9" class="node"><title>_113_id_expression</title>
<ellipse style="fill:none;stroke:black;" cx="362" cy="-730" rx="104.927" ry="18"/>
<text text-anchor="middle" x="362" y="-725.9" style="font-family:Times New Roman;font-size:14.00;">_113_id_expression</text>
</g>
<!-- _111_declarator_id&#45;&gt;_113_id_expression -->
<g id="edge14" class="edge"><title>_111_declarator_id&#45;&gt;_113_id_expression</title>
<path style="fill:none;stroke:black;" d="M374,-791C372,-781 369,-769 367,-758"/>
<polygon style="fill:black;stroke:black;" points="370.393,-757.119 365,-748 363.529,-758.492 370.393,-757.119"/>
</g>
<!-- _114_unqualified_id -->
<g id="node10" class="node"><title>_114_unqualified_id</title>
<ellipse style="fill:none;stroke:black;" cx="362" cy="-651" rx="105.818" ry="18"/>
<text text-anchor="middle" x="362" y="-646.9" style="font-family:Times New Roman;font-size:14.00;">_114_unqualified_id</text>
</g>
<!-- _113_id_expression&#45;&gt;_114_unqualified_id -->
<g id="edge16" class="edge"><title>_113_id_expression&#45;&gt;_114_unqualified_id</title>
<path style="fill:none;stroke:black;" d="M362,-712C362,-702 362,-690 362,-679"/>
<polygon style="fill:black;stroke:black;" points="365.5,-679 362,-669 358.5,-679 365.5,-679"/>
</g>
<!-- _115_identifier -->
<g id="node11" class="node"><title>_115_identifier</title>
<polygon style="fill:none;stroke:green;" points="302,-540 302,-590 422,-590 422,-540 302,-540"/>
<text text-anchor="middle" x="362" y="-572.9" style="font-family:Times New Roman;font-size:14.00;">_115_identifier</text>
<polyline style="fill:none;stroke:green;" points="302,-565 422,-565 "/>
<text text-anchor="start" x="310" y="-547.9" style="font-family:Times New Roman;font-size:14.00;">f is IDENTIFIER</text>
</g>
<!-- _114_unqualified_id&#45;&gt;_115_identifier -->
<g id="edge18" class="edge"><title>_114_unqualified_id&#45;&gt;_115_identifier</title>
<path style="fill:none;stroke:black;" d="M362,-633C362,-624 362,-612 362,-600"/>
<polygon style="fill:black;stroke:black;" points="365.5,-600 362,-590 358.5,-600 365.5,-600"/>
</g>
<!-- _118_parameter_declaration_list_opt -->
<g id="node13" class="node"><title>_118_parameter_declaration_list_opt</title>
<ellipse style="fill:none;stroke:black;" cx="674" cy="-730" rx="189.008" ry="18"/>
<text text-anchor="middle" x="674" y="-725.9" style="font-family:Times New Roman;font-size:14.00;">_118_parameter_declaration_list_opt</text>
</g>
<!-- _116_parameter_declaration_clause&#45;&gt;_118_parameter_declaration_list_opt -->
<g id="edge22" class="edge"><title>_116_parameter_declaration_clause&#45;&gt;_118_parameter_declaration_list_opt</title>
<path style="fill:none;stroke:black;" d="M664,-784C665,-775 667,-766 668,-758"/>
<polygon style="fill:black;stroke:black;" points="671.471,-758.492 670,-748 664.607,-757.119 671.471,-758.492"/>
</g>
<!-- _119_parameter_declaration_list -->
<g id="node14" class="node"><title>_119_parameter_declaration_list</title>
<polygon style="fill:none;stroke:green;" points="553,-626 553,-676 795,-676 795,-626 553,-626"/>
<text text-anchor="middle" x="674" y="-658.9" style="font-family:Times New Roman;font-size:14.00;">_119_parameter_declaration_list</text>
<polyline style="fill:none;stroke:green;" points="553,-651 795,-651 "/>
<text text-anchor="start" x="561" y="-633.9" style="font-family:Times New Roman;font-size:14.00;">) is ) </text>
</g>
<!-- _118_parameter_declaration_list_opt&#45;&gt;_119_parameter_declaration_list -->
<g id="edge24" class="edge"><title>_118_parameter_declaration_list_opt&#45;&gt;_119_parameter_declaration_list</title>
<path style="fill:none;stroke:black;" d="M674,-712C674,-704 674,-695 674,-686"/>
<polygon style="fill:black;stroke:black;" points="677.5,-686 674,-676 670.5,-686 677.5,-686"/>
</g>
<!-- _120_parameter_declaration -->
<g id="node15" class="node"><title>_120_parameter_declaration</title>
<polygon style="fill:none;stroke:black;stroke-dasharray:1,5;" points="567,-540 567,-590 781,-590 781,-540 567,-540"/>
<text text-anchor="middle" x="674" y="-572.9" style="font-family:Times New Roman;font-size:14.00;">_120_parameter_declaration</text>
<polyline style="fill:none;stroke:black;stroke-dasharray:1,5;" points="567,-565 781,-565 "/>
<text text-anchor="middle" x="674" y="-547.9" style="font-family:Times New Roman;font-size:14.00;">) is_not =</text>
</g>
<!-- _119_parameter_declaration_list&#45;&gt;_120_parameter_declaration -->
<g id="edge26" class="edge"><title>_119_parameter_declaration_list&#45;&gt;_120_parameter_declaration</title>
<path style="fill:none;stroke:black;" d="M674,-626C674,-618 674,-609 674,-600"/>
<polygon style="fill:black;stroke:black;" points="677.5,-600 674,-590 670.5,-600 677.5,-600"/>
</g>
<!-- _121_decl_specifier_seq -->
<g id="node16" class="node"><title>_121_decl_specifier_seq</title>
<ellipse style="fill:none;stroke:black;" cx="558" cy="-486" rx="125.079" ry="18"/>
<text text-anchor="middle" x="558" y="-481.9" style="font-family:Times New Roman;font-size:14.00;">_121_decl_specifier_seq</text>
</g>
<!-- _120_parameter_declaration&#45;&gt;_121_decl_specifier_seq -->
<g id="edge28" class="edge"><title>_120_parameter_declaration&#45;&gt;_121_decl_specifier_seq</title>
<path style="fill:none;stroke:black;" d="M637,-540C623,-530 606,-519 593,-510"/>
<polygon style="fill:black;stroke:black;" points="594.262,-506.635 584,-504 590.379,-512.459 594.262,-506.635"/>
</g>
<!-- _136_declarator -->
<g id="node22" class="node"><title>_136_declarator</title>
<ellipse style="fill:none;stroke:black;" cx="790" cy="-486" rx="88.9449" ry="18"/>
<text text-anchor="middle" x="790" y="-481.9" style="font-family:Times New Roman;font-size:14.00;">_136_declarator</text>
</g>
<!-- _120_parameter_declaration&#45;&gt;_136_declarator -->
<g id="edge40" class="edge"><title>_120_parameter_declaration&#45;&gt;_136_declarator</title>
<path style="fill:none;stroke:black;" d="M711,-540C726,-530 742,-519 756,-509"/>
<polygon style="fill:black;stroke:black;" points="758.621,-511.459 765,-503 754.738,-505.635 758.621,-511.459"/>
</g>
<!-- _122_decl_specifier -->
<g id="node17" class="node"><title>_122_decl_specifier</title>
<ellipse style="fill:none;stroke:black;" cx="334" cy="-407" rx="103.037" ry="18"/>
<text text-anchor="middle" x="334" y="-402.9" style="font-family:Times New Roman;font-size:14.00;">_122_decl_specifier</text>
</g>
<!-- _121_decl_specifier_seq&#45;&gt;_122_decl_specifier -->
<g id="edge30" class="edge"><title>_121_decl_specifier_seq&#45;&gt;_122_decl_specifier</title>
<path style="fill:none;stroke:black;" d="M510,-469C475,-457 427,-440 390,-427"/>
<polygon style="fill:black;stroke:black;" points="390.585,-423.464 380,-423 387.985,-429.964 390.585,-423.464"/>
</g>
<!-- _134_decl_specifier -->
<g id="node20" class="node"><title>_134_decl_specifier</title>
<ellipse style="fill:none;stroke:black;" cx="558" cy="-407" rx="103.037" ry="18"/>
<text text-anchor="middle" x="558" y="-402.9" style="font-family:Times New Roman;font-size:14.00;">_134_decl_specifier</text>
</g>
<!-- _121_decl_specifier_seq&#45;&gt;_134_decl_specifier -->
<g id="edge36" class="edge"><title>_121_decl_specifier_seq&#45;&gt;_134_decl_specifier</title>
<path style="fill:none;stroke:black;" d="M558,-468C558,-458 558,-446 558,-435"/>
<polygon style="fill:black;stroke:black;" points="561.5,-435 558,-425 554.5,-435 561.5,-435"/>
</g>
<!-- _125_type_specifier -->
<g id="node18" class="node"><title>_125_type_specifier</title>
<ellipse style="fill:none;stroke:black;" cx="334" cy="-308" rx="105.818" ry="18"/>
<text text-anchor="middle" x="334" y="-303.9" style="font-family:Times New Roman;font-size:14.00;">_125_type_specifier</text>
</g>
<!-- _122_decl_specifier&#45;&gt;_125_type_specifier -->
<g id="edge32" class="edge"><title>_122_decl_specifier&#45;&gt;_125_type_specifier</title>
<path style="fill:none;stroke:black;" d="M334,-389C334,-374 334,-353 334,-336"/>
<polygon style="fill:black;stroke:black;" points="337.5,-336 334,-326 330.5,-336 337.5,-336"/>
</g>
<!-- _126_simple_type_specifier -->
<g id="node19" class="node"><title>_126_simple_type_specifier</title>
<polygon style="fill:none;stroke:green;" points="0,-158 0,-233 668,-233 668,-158 0,-158"/>
<text text-anchor="middle" x="334" y="-215.9" style="font-family:Times New Roman;font-size:14.00;">_126_simple_type_specifier</text>
<polyline style="fill:none;stroke:green;" points="0,-208 668,-208 "/>
<text text-anchor="start" x="8" y="-190.9" style="font-family:Times New Roman;font-size:14.00;">T1 is TEMPLATE_TYPE</text>
<polyline style="fill:none;stroke:green;" points="0,-183 668,-183 "/>
<text text-anchor="middle" x="334" y="-165.9" style="font-family:Times New Roman;font-size:14.00;">T1 is_not CHAR WCHAR_T BOOL SHORT INT LONG SIGNED UNSIGNED FLOAT DOUBLE VOID</text>
</g>
<!-- _125_type_specifier&#45;&gt;_126_simple_type_specifier -->
<g id="edge34" class="edge"><title>_125_type_specifier&#45;&gt;_126_simple_type_specifier</title>
<path style="fill:none;stroke:black;" d="M334,-290C334,-278 334,-260 334,-243"/>
<polygon style="fill:black;stroke:black;" points="337.5,-243 334,-233 330.5,-243 337.5,-243"/>
</g>
<!-- _135_preanalisys -->
<g id="node21" class="node"><title>_135_preanalisys</title>
<polygon style="fill:none;stroke:green;" points="458,-270 458,-345 659,-345 659,-270 458,-270"/>
<text text-anchor="middle" x="558" y="-327.9" style="font-family:Times New Roman;font-size:14.00;">_135_preanalisys</text>
<polyline style="fill:none;stroke:green;" points="458,-320 659,-320 "/>
<text text-anchor="start" x="465.5" y="-302.9" style="font-family:Times New Roman;font-size:14.00;">t1 is IDENTIFIER</text>
<polyline style="fill:none;stroke:green;" points="458,-295 659,-295 "/>
<text text-anchor="middle" x="558" y="-277.9" style="font-family:Times New Roman;font-size:14.00;">t1 is_not ; ) COLONCOLON</text>
</g>
<!-- _134_decl_specifier&#45;&gt;_135_preanalisys -->
<g id="edge38" class="edge"><title>_134_decl_specifier&#45;&gt;_135_preanalisys</title>
<path style="fill:none;stroke:black;" d="M558,-389C558,-380 558,-367 558,-355"/>
<polygon style="fill:black;stroke:black;" points="561.5,-355 558,-345 554.5,-355 561.5,-355"/>
</g>
<!-- _138_direct_declarator -->
<g id="node23" class="node"><title>_138_direct_declarator</title>
<polygon style="fill:none;stroke:black;stroke-dasharray:1,5;" points="703,-382 703,-432 877,-432 877,-382 703,-382"/>
<text text-anchor="middle" x="790" y="-414.9" style="font-family:Times New Roman;font-size:14.00;">_138_direct_declarator</text>
<polyline style="fill:none;stroke:black;stroke-dasharray:1,5;" points="703,-407 877,-407 "/>
<text text-anchor="middle" x="790" y="-389.9" style="font-family:Times New Roman;font-size:14.00;">) is_not ( : _</text>
</g>
<!-- _136_declarator&#45;&gt;_138_direct_declarator -->
<g id="edge42" class="edge"><title>_136_declarator&#45;&gt;_138_direct_declarator</title>
<path style="fill:none;stroke:black;" d="M790,-468C790,-460 790,-451 790,-442"/>
<polygon style="fill:black;stroke:black;" points="793.5,-442 790,-432 786.5,-442 793.5,-442"/>
</g>
<!-- _139_declarator_id -->
<g id="node24" class="node"><title>_139_declarator_id</title>
<ellipse style="fill:none;stroke:black;" cx="790" cy="-308" rx="102.148" ry="18"/>
<text text-anchor="middle" x="790" y="-303.9" style="font-family:Times New Roman;font-size:14.00;">_139_declarator_id</text>
</g>
<!-- _138_direct_declarator&#45;&gt;_139_declarator_id -->
<g id="edge44" class="edge"><title>_138_direct_declarator&#45;&gt;_139_declarator_id</title>
<path style="fill:none;stroke:black;" d="M790,-382C790,-368 790,-351 790,-336"/>
<polygon style="fill:black;stroke:black;" points="793.5,-336 790,-326 786.5,-336 793.5,-336"/>
</g>
<!-- _141_id_expression -->
<g id="node25" class="node"><title>_141_id_expression</title>
<ellipse style="fill:none;stroke:black;" cx="791" cy="-196" rx="104.927" ry="18"/>
<text text-anchor="middle" x="791" y="-191.9" style="font-family:Times New Roman;font-size:14.00;">_141_id_expression</text>
</g>
<!-- _139_declarator_id&#45;&gt;_141_id_expression -->
<g id="edge46" class="edge"><title>_139_declarator_id&#45;&gt;_141_id_expression</title>
<path style="fill:none;stroke:black;" d="M790,-290C790,-272 790,-245 791,-224"/>
<polygon style="fill:black;stroke:black;" points="794.5,-224 791,-214 787.5,-224 794.5,-224"/>
</g>
<!-- _142_unqualified_id -->
<g id="node26" class="node"><title>_142_unqualified_id</title>
<ellipse style="fill:none;stroke:black;" cx="791" cy="-104" rx="105.818" ry="18"/>
<text text-anchor="middle" x="791" y="-99.9" style="font-family:Times New Roman;font-size:14.00;">_142_unqualified_id</text>
</g>
<!-- _141_id_expression&#45;&gt;_142_unqualified_id -->
<g id="edge48" class="edge"><title>_141_id_expression&#45;&gt;_142_unqualified_id</title>
<path style="fill:none;stroke:black;" d="M791,-178C791,-165 791,-147 791,-132"/>
<polygon style="fill:black;stroke:black;" points="794.5,-132 791,-122 787.5,-132 794.5,-132"/>
</g>
<!-- _143_identifier -->
<g id="node27" class="node"><title>_143_identifier</title>
<polygon style="fill:none;stroke:green;" points="726,-0 726,-50 857,-50 857,-0 726,-0"/>
<text text-anchor="middle" x="791" y="-32.9" style="font-family:Times New Roman;font-size:14.00;">_143_identifier</text>
<polyline style="fill:none;stroke:green;" points="726,-25 857,-25 "/>
<text text-anchor="start" x="733.5" y="-7.9" style="font-family:Times New Roman;font-size:14.00;">t1 is IDENTIFIER</text>
</g>
<!-- _142_unqualified_id&#45;&gt;_143_identifier -->
<g id="edge50" class="edge"><title>_142_unqualified_id&#45;&gt;_143_identifier</title>
<path style="fill:none;stroke:black;" d="M791,-86C791,-78 791,-69 791,-60"/>
<polygon style="fill:black;stroke:black;" points="794.5,-60 791,-50 787.5,-60 794.5,-60"/>
</g>
<!-- _147_function_body&#45;&gt;_CONTINUE_2 -->
<g id="edge54" class="edge"><title>_147_function_body&#45;&gt;_CONTINUE_2</title>
<path style="fill:none;stroke:black;" d="M745,-982C745,-969 745,-951 745,-936"/>
<polygon style="fill:black;stroke:black;" points="748.5,-936 745,-926 741.5,-936 748.5,-936"/>
</g>
</g>
</svg>

<!-- } extract of file[web_github_chunked_svg/images/chapter_advanced_trace_book_template_02.svg] end-->
</div></div></div><br class="figure-break" /><p>we will see the rule <span class="strong"><strong>_126_simple_type_specifier</strong></span>, the others rules of this
subtree are pretty similar to other examples of this book.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
_126_simple_type_specifier(): here the next code runs:
</li></ul></div><pre class="screen"><span class="strong"><strong>int</strong></span> c_parser_descent::simple_type_specifier(c_trace_node trace_node)
{
    ...
    <span class="strong"><strong>if</strong></span> ( TEMPLATE_DECLARATION == context.template_status ) {
        <span class="strong"><strong>if</strong></span> ( token_is(TEMPLATE_TYPE, trace_node) ) {
            result = 1;
        }
    }
    ...
    <span class="strong"><strong>if</strong></span> (1 == result) {
        c_decl_specifier decl(c_token_get());
        decl.type_specifier = 1;
        decl.has_colon_colon_after = has_colon_colon_after;

        <span class="strong"><strong>if</strong></span> (1 == context.i_am_in_parameter_declaration) {
            context.param_vector_decl_specifier.push_back(decl); <a id="CO39-1"></a><img src="images/icons/callouts/1.png" alt="1" border="0" />
        } <span class="strong"><strong>else</strong></span> <span class="strong"><strong>if</strong></span> (1 == context.is_template_instantiation) {
            ...
        }
        ...
        <span class="strong"><strong>return</strong></span> 1;
    }
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO39-1"><img src="images/icons/callouts/1.png" alt="1" border="0" /></a> </p></td><td valign="top" align="left"><p>
here abidos stores in context the decl <span class="strong"><strong>T1</strong></span>
</p></td></tr></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/ch12.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/ch12.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/ch12s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="http://htmlpreview.github.com/?https://github.com/fructu/abidos/blob/master/abidos_cpp_doc/programmer_manual/web_github_chunked_svg/index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
